---
title: 图片规范
date: 2021-03-01 14:23:55
tags:
  - 工具
category: 代码格式化
---

# 图片格式

常见的图片格式有 GIF、PNG8、PNG24、JPEG、WEBP，根据图片格式的特性和场景需要选取适合的图片格式。

### 内容图

内容图多以商品图等照片类图片形式存在，颜色较为丰富，文件体积较大

- 优先考虑 JPEG 格式，条件允许的话优先考虑 WebP 格式
- 尽量不使用 PNG 格式，PNG8 色位太低，PNG24 压缩率低，文件体积大

### 背景图

背景图多为图标等颜色比较简单、文件体积不大、起修饰作用的图片

- PNG 与 GIF 格式，优先考虑使用 PNG 格式,PNG 格式允许更多的颜色并提供更好的压缩率
- 图像颜色比较简单的，如纯色块线条图标，优先考虑使用 PNG8 格式，避免不使用 JPEG 格式
- 图像颜色丰富而且图片文件不太大的（40KB 以下）或有半透明效果的优先考虑 PNG24 格式
- 图像颜色丰富而且文件比较大的（40KB - 200KB）优先考虑 JPEG 格式
- 条件允许的，优先考虑 WebP 代替 PNG 和 JPEG 格式

# 图片大小

PC 平台单张的图片的大小不应大于 100KB。

移动平台单张的图片的大小不应大于 50KB

# 图片质量

上线的图片都应该经过压缩处理，压缩后的图片不应该出现肉眼可感知的失真区域
60 质量的 JPEG 格式图片与质量大于 60 的相比，肉眼已看不出明显的区别，因此保存 JPEG 图的时候，质量一般控制在 60，若保真度要求高的图片可适量提高到 80，图片大小控制在 200KB 以内

# 图片引入

测试内容图应该写上表明图片尺寸的占位图，可以用线上占位图生成服务

```
http://placeholder.qiniudn.com/300x200
```

HTML 中图片引入不需添加 width、height 属性，alt 属性应该写上

```
<img src="" alt="" >
```

[强制]图片缺省：
[强制]机械
![](/images/default.png)
[强制]其他
![](/images/broken.png)
[强制]背景图缺省：对应缺省图

CSS 中图片引入不需要引号

```
.jdc {
    background-image: url(icon.png);
}
```

## CSS Sprites

### 特点

- 减少请求数
- 加速图片的显示
- 维护更新成本大
- 更多的内存消耗，特别是大体积或有过多空白的 Sprites 图
- 图片渗漏，相邻的不需展示的图片有可能出现在展示元素中，特别是在高清设备移动设备上

### 建议

- 适合使用频率高更新频率低的小图标
- 尽量不留太多的空白
- 体积较大的图片不合并
- 确保要合并的小图坐标数值和合并后的 Sprites 图尺寸均为偶数

## Data URIs（base64 编码）

### 特点

- 减少请求数
- 转换文件体积大，大约比原始的二进制大 33%
- IE6 / IE7 不支持
- 图片显示相对较慢，需要更多的 CPU 消耗

### 建议

- 适合更新频率高的小图片，如某些具备自定义功能的标题 icon 等
- 转换成 Base64 编码的图片应小于 2KB
- 移动端不使用 Base64 编码
- 要兼容 IE6/IE7 的不使用

# 图片地址

# 本地图片地址存储规范

统一以绝对路径 import 图片引入路径

```
import noLargeScreen from '@/assets/no_large_screen.png';
```

# oss 图片上传规

小程序主包中尽量使用网络图片，经统计 93%的图片内存占用在 3KB 以下（主包及子包），所以图片上传资源的标准个人建议以 2KB 为标准
oss 图片引用地址：https://d.zhgcloud.com
根据图片存储路径进行 URL 的拼接
![](/images/oss_path.png)

例如：

```
https://d.zhgcloud.com/weapp/project/evaluation.png
```

## 图片

# 图片使用规范

1. 所有图片必须经过一定的压缩和优化才能发布
2. [强制]命名全部用小写英文字母,数字, \_ 的组合，其中不得包含汉字,空格,特殊字符。（模块\_页面\_功能@1/2/3.图片格式），默认使用 2 倍图时不添加倍数规范。
3. 尽量用易懂的词汇, 便于团队其他成员理解; 另, 命名分头尾两部分, 用下划线隔开
4. 尽量避免使用半透明的 png 图片

# 倍图使用

倍图使用在 pc 端并不常见，但在移动端的使用就尤为重要。

- 一倍图：1x 的图标用于 1:1 的屏幕，非视网膜屏，例如 iPhone 3GS、（/20140414DEL/ //早期 iPhone 4）非视网膜屏的众多 iPad 等。
- 二倍图：2x 的图标用于 1:2 的屏幕，大部分视网膜屏，机型如（/20140414ADD/ iPhone 4、）iPhone 4S、iPhone 5、iPhone 5s、iPhone 6、iPad with Retina 及后续的视网膜屏 iPad 等。
- 三倍图：3x 的图标目前应用于 1:3 的屏幕，即 iPhone 6Plus

# icon

## iconfont 使用

定义共享项目，上传 iconfont 的 icon 使用，统一管理每个项目写 icon 资源使用
使用场景：
项目中使用的 icon 不符合 antd icon 的使用方式或无法使用 antd icon 及 css 样式达到项目显示效果时，使用 iconfont 自定义 icon 进行显示。

## antd icon 使用

我们主要使用 antd_icon 的尺寸、颜色、类型属性

1. 创建可复用的 icon 组件（固定使用参数）
2. 统计 icon 的使用，减少 antd icon 与 iconfont 的 icon 重复

# 图片打包

小程序：

```
imagemin: {
            filter: /\.(jpg|png|jpeg)$/,
            config: {
                jpg: {
                    quality: 80
                },
                png: {
                    quality: 80
                }
            }
            minFileSize:1024,
        },
```

1. quality 设置压缩图片的品质，建议设置为 95-100。
2. minFileSize 设置多大以上的图片才压缩，单位是比特,建议为 1024。
3. test 设置那里的图片才压缩，这里的路径是打包后的路径，如果打包后图片存放的文件夹是 images
